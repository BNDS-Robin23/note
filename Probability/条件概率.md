# 条件概率
## 定义：略
+ 实际上是缩小了样本空间。

## 条件概率
+ $P(B|A) = \frac {P(AB)}{P(A)}$
+ 下面证明P(A|B)满足概率的定义
  + 因为$0\leq P(AB) \leq P(A),故 P(A|B)\in [0, 1]$,满足非负性
  + 因为$P(广义并B_i|A) = \frac {P()}{}...易证满足可列可加性$
+ 条件概率性质
  + 容斥原理
  + $P(B|A) = 1-P(B^-|A)$

## 乘积公式
$$P(A_1A_2...A_n)=P(A_1)P(A_2|A_1)P(A_3|A_1A_2)...P(A_n|A_1...A_{n-1})$$
+ 实际上是一个没什么用的公式。因为要么我们可以通过生活经验直接得到条件概率，要么还是计算不出来。因为条件概率的计算本身就需要有各事件相交的概率。
>eg. 100只灯泡，10只次品，不放回抽取，每次一只，第三次才是正品的概率？  
>>解：Ai表示第i次为正品  
>>事件可以被表述为$P(\vec A_1\vec A_2 A_3)$  
  
>eg.一串n把钥匙，只有一把能打开门，取一把开门，不放回，求第k次开门概率  
>>解 ：$P(A_1A_2...A_{k-1}\vec A_k) where　A_k　means　we　fail　to　open　the　door　the　k^{th}　trial$  
  
>(matching)　n对夫妻参加聚会......问ｎ对夫妻两两分组的概率  
>>解：设$A_i$为第ｉ对夫妻同一组，则问题为求$P(A_1...A_n)=\frac 1n\frac 2{n-1}...\frac 11=\frac 1{n!}$

## 全概率公式
+ def: $A_1,A_2...A_n满足1)两两相交为空。２)并集为全集$，称这些集合为omega的划分
+ 对于omega的全划分，若B是任一事件
  $$P(B)=\sum_{i=1}^{n}P(A_iB)=\sum_{i=1}^nP(A_i)P(B|A_i)$$
  直觉上就是，若B为结果，A1...An为原因

## 贝叶斯公式
  $设实验E的样本空间为S，A为E的事件，B_1,B_2...,B_n为S的一个划分，且P(A)大于0，P(B_i)大于0，则$
  $$P(B_i|A) = \frac{P(A|B_i)P(B_i)}{\sum_{j=1}^{n}P(A|B_j)P(B_j)}$$
+ 直观意义就是贝叶斯公式给出了时间A在Bi情况下发生的条件概率。

> **eg. ABC三人被判死刑。随机赦免一人，下面进行问询谁会被执行死刑。看守回答的策略是：如果A被赦免，那么回答B或C，概率分别为0.5和0.5。若B被赦免，则回答C。若C被赦免，则回答B。现在看守回答B会被赦免，请问最终C存活的概率为？**
>> solution :  
>> D="B被执行死刑",A=“A被赦免”，B=“B被赦免”，C=“C被赦免”。$P(D)=P(A)|P(D|A)+P(B)P(D|B)+P(C)P(D|C)$  
>> 则$P(C|D)=\frac{P(C)P(D|C)}{P(D)}=\frac23$